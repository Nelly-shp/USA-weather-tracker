document.addEventListener("DOMContentLoaded", function () {
    let sidebar = document.getElementById("sidebar");
    let toggleBtn = document.getElementById("sidebar-toggle");

    // Toggle sidebar open/close
    toggleBtn.addEventListener("click", function () {
        sidebar.classList.toggle("open");
    });

    // Move Geocoder and Layer Controls inside Sidebar
    let geocoderControl = document.querySelector(".leaflet-control-geocoder");
    let layerControl = document.querySelector(".leaflet-control-layers");

    if (geocoderControl && layerControl) {
        document.getElementById("search-bar").appendChild(geocoderControl);
        document.getElementById("layer-controls").appendChild(layerControl);
    }
});

document.getElementById("sidebar-toggle").addEventListener("click", function() {
    document.getElementById("sidebar").classList.toggle("open");

    // Ensure the search bar expands properly
    let searchBar = document.querySelector(".leaflet-control-geocoder");
    if (searchBar) {
        searchBar.classList.add("expanded"); // Ensures it doesnâ€™t remain squished
    }
});

